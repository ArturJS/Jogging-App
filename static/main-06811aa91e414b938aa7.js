webpackJsonp([2],{1e3:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(251);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(n).default}});var o=r(995);Object.defineProperty(t,"recordsStore",{enumerable:!0,get:function(){return a(o).default}})},1001:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,l,u,i=r(82),s=a(i),d=r(81),c=a(d),f=r(22),p=a(f),m=r(5),v=a(m),h=r(6),y=a(h),b=r(11),g=a(b),_=r(10),E=a(_),C=r(0),x=a(C),k=r(2),w=a(k),S=r(172),N=a(S),O=r(31),M=r(19),P=r(399),j=a(P),R=r(398),D=a(R),A=r(169);r(644);var F=(n=(0,O.inject)("userStore"))(o=(0,j.default)(o=(0,M.withRouter)(o=(0,O.observer)((u=l=function(e){function t(){var e,r,a,n,o=this;(0,v.default)(this,t);for(var l=arguments.length,u=Array(l),i=0;i<l;i++)u[i]=arguments[i];return r=a=(0,g.default)(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(u))),a.onSubmit=(0,c.default)(s.default.mark(function e(){var t,r,n,l,u,i;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.formStore.validate().valid){e.next=3;break}return a.formStore.setFocusFirstInvalid(),e.abrupt("return");case 3:return t=a.formStore.values,r=t.firstName,n=t.lastName,l=t.email,u=t.password,i=t.repeatPassword,e.prev=4,e.next=7,a.props.userStore.doSignUp({firstName:r,lastName:n,email:l,password:u,repeatPassword:i},{showLoading:!0});case 7:a.formStore.resetFormData(),a.setState({error:null}),a.props.history.push("/records"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),a.props.processAjaxError(e.t0);case 15:case"end":return e.stop()}},e,o,[[4,12]])})),n=r,(0,g.default)(a,n)}return(0,E.default)(t,e),(0,y.default)(t,[{key:"componentWillMount",value:function(){this.formStore=new A.FormStore({firstName:{value:"",maxLength:254,validators:[A.Validators.required("Please enter your first name"),A.Validators.regex(/^(\s*[A-Za-z\-\']+)+\s*$/)]},lastName:{value:"",maxLength:254,validators:[A.Validators.required("Please enter your surname"),A.Validators.regex(/^(\s*[A-Za-z\-\']+)+\s*$/)]},email:{value:"",maxLength:254,validators:[A.Validators.required("Please enter your email"),A.Validators.email("Please enter email in the correct format"),A.Validators.minLength(6,"Please enter email in the correct format")]},password:{value:"",maxLength:254,validators:[A.Validators.required("Please enter your password"),A.Validators.minLength(8,"Password is too short. Minimal length - 8 characters."),A.Validators.maxLength(30,"Maximum password length is 30 characters.")]},repeatPassword:{value:"",maxLength:254,validators:[A.Validators.required("Please repeat your password"),function(e,t){return t.password!==e?"The password and repeat password do not match.":null}]}})}},{key:"render",value:function(){var e=this.props.error,t=A.Controls.inputTextCtrl,r=A.Controls.inputPasswordCtrlWithShowBnt;return x.default.createElement("div",{className:"page sign-up-page"},x.default.createElement(N.default,{title:"Create an account"}),x.default.createElement(A.Form,{className:"sign-up-form",store:this.formStore,onSubmit:this.onSubmit},x.default.createElement("h2",{className:"text-center"},"Create an account"),x.default.createElement("div",{className:"form-group"},x.default.createElement("label",{htmlFor:"firstName",className:"control-label"},"First name"),x.default.createElement(A.Field,{className:"control-field",name:"firstName",control:t})),x.default.createElement("div",{className:"form-group"},x.default.createElement("label",{htmlFor:"lastName",className:"control-label"},"Surname"),x.default.createElement(A.Field,{className:"control-field",name:"lastName",control:t})),x.default.createElement("div",{className:"form-group"},x.default.createElement("label",{htmlFor:"email",className:"control-label"},"Email"),x.default.createElement(A.Field,{className:"control-field",name:"email",control:t})),x.default.createElement("div",{className:"form-group"},x.default.createElement("label",{htmlFor:"password",className:"control-label"},"Password"),x.default.createElement(A.Field,{className:"control-field",name:"password",control:r})),x.default.createElement("div",{className:"form-group"},x.default.createElement("label",{htmlFor:"repeatPassword",className:"control-label"},"Repeat password"),x.default.createElement(A.Field,{className:"control-field",name:"repeatPassword",control:r})),x.default.createElement(D.default,{error:e}),x.default.createElement("div",{className:"buttons-group"},x.default.createElement("button",{type:"submit",className:"btn btn-primary"},"Create an account"))))}}]),t}(C.Component),l.propTypes={userStore:w.default.object.isRequired,history:w.default.object.isRequired,error:w.default.string,processAjaxError:w.default.func.isRequired},o=u))||o)||o)||o)||o;t.default=F,e.exports=t.default},1002:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1001);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(n).default}}),e.exports=t.default},1003:function(e,t,r){"use strict";var a=r(260),n=function(e){return e&&e.__esModule?e:{default:e}}(a),o={development:{isProduction:!1},production:{isProduction:!0}}.production,l=(0,n.default)({host:r.i({NODE_ENV:"production"}).HOST||"localhost",port:r.i({NODE_ENV:"production"}).PORT,apiHost:r.i({NODE_ENV:"production"}).APIHOST||"localhost",apiPort:r.i({NODE_ENV:"production"}).APIPORT,app:{title:"Jogging App",description:"All the modern best practices in one example.",head:{titleTemplate:"Jogging App: %s",meta:[{name:"description",content:"All the modern best practices in one example."},{charset:"utf-8"},{property:"og:site_name",content:"Jogging App"},{property:"og:locale",content:"en_US"},{property:"og:title",content:"Jogging App"},{property:"og:description",content:"All the modern best practices in one example."},{property:"og:card",content:"summary"},{property:"og:image",content:"https://react-redux.herokuapp.com/logo.jpg"},{property:"og:image:width",content:"200"},{property:"og:image:height",content:"200"}]}}},o),u="http://"+l.apiHost+":"+l.apiPort,i="http://"+l.host+":"+l.port;e.exports=(0,n.default)(l,{apiTargetUrl:u,uiTargetUrl:i})},1004:function(e,t,r){"use strict";(function(a){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(107),l=(n(o),r(0)),u=n(l),i=r(19),s=r(892),d=n(s),c=r(313),f=r(1005),p=n(f),m=r(979),v=n(m),h=r(969),y=n(h),b=r(1002),g=n(b),_=[{path:"/sign-up",exact:!0,component:function(){return u.default.createElement(v.default,{to:"/sign-up",component:g.default})}},{path:"/records",exact:!0,component:function(){return u.default.createElement(y.default,{path:"/records",component:(0,d.default)({loader:function(){return(0,c.report)(new Promise(function(e){e()}).then(r.bind(null,251)),{serverSideRequirePath:p.default.resolve(a,"./client/pages/RecordsPage/RecordsPage"),webpackRequireWeakId:function(){return 251}})},loading:u.default.createElement("div",null,"Loading...")})})}},{path:"/reports",exact:!0,component:function(){return u.default.createElement(y.default,{path:"/reports",component:(0,d.default)({loader:function(){return(0,c.report)(r.e(0).then(r.bind(null,406)),{serverSideRequirePath:p.default.resolve(a,"./client/pages/ReportsPage/ReportsPage"),webpackRequireWeakId:function(){return 406}})},loading:u.default.createElement("div",null,"Loading...")})})}},{path:"/*",redirectTo:"/sign-up",component:function(){return u.default.createElement(i.Redirect,{to:"/sign-up"})}}];t.default=_,e.exports=t.default}).call(t,"/")},1006:function(e,t,r){e.exports=r(404)},169:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(981);Object.defineProperty(t,"Field",{enumerable:!0,get:function(){return a(n).default}});var o=r(982);Object.defineProperty(t,"Form",{enumerable:!0,get:function(){return a(o).default}});var l=r(400);Object.defineProperty(t,"Controls",{enumerable:!0,get:function(){return a(l).default}});var u=r(980);Object.defineProperty(t,"FormStore",{enumerable:!0,get:function(){return a(u).default}});var i=r(984);Object.defineProperty(t,"Validators",{enumerable:!0,get:function(){return a(i).default}});var s=r(983);Object.defineProperty(t,"Transformers",{enumerable:!0,get:function(){return a(s).default}})},251:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,l,u,i=r(22),s=a(i),d=r(5),c=a(d),f=r(6),p=a(f),m=r(11),v=a(m),h=r(10),y=a(h),b=r(0),g=a(b),_=r(2),E=a(_),C=r(172),x=a(C),k=r(31),w=r(405),S=a(w),N=r(3),O=a(N),M=r(999),P=a(M),j=r(997),R=a(j);r(641);var D=(n=(0,k.inject)("userStore","modalStore","recordsStore"))(o=(0,k.observer)((u=l=function(e){function t(){var e,r,a,n;(0,c.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return r=a=(0,v.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(l))),a.showAddRecordModal=function(){a.props.modalStore.showCustom({title:"Add new record",component:g.default.createElement(P.default,{isAddMode:!0})})},a.showEditRecordModal=function(e){var t=a.props.recordsStore.getRecordById(e);a.props.modalStore.showCustom({title:"Edit record",component:g.default.createElement(P.default,{record:t})})},a.showRemoveRecordModal=function(e){var t=a.props.recordsStore.getFormattedRecordById(e);a.props.modalStore.showConfirm({title:"Confirm your action",body:g.default.createElement("div",null,g.default.createElement("div",null,"Are you sure you want to delete this record?"),g.default.createElement("div",null,"Date: "+(0,O.default)(t.date).format("DD.MM.YYYY")+";\n              Distance: "+t.distance+";\n              Time: "+t.time+";\n              Average speed: "+t.averageSpeed+"."))}).then(function(t){t&&a.props.recordsStore.removeRecord(e,{showLoading:!0})})},a.onDatesChange=function(e){var t=e.startDate,r=e.endDate;a.props.recordsStore.setFilter({startDate:t&&t.startOf("day"),endDate:r&&r.startOf("day")})},n=r,(0,v.default)(a,n)}return(0,y.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){var e=this;this.recordsGridColumns=[{Header:"Date",accessor:"date",sortable:!0,Cell:function(e){var t=e.value;return(0,O.default)(t).format("DD.MM.YYYY")}},{Header:function(){return g.default.createElement("div",null,g.default.createElement("div",null,"Distance"),g.default.createElement("div",null,"(Metres)"))},accessor:"distance",sortable:!1},{Header:"Time",accessor:"time",sortable:!1},{Header:function(){return g.default.createElement("div",null,g.default.createElement("div",null,"Average speed"),g.default.createElement("div",null,"(Km/hr)"))},width:150,accessor:"averageSpeed",sortable:!1},{Header:"Edit",Cell:function(t){var r=t.original.id,a=function(){return e.showEditRecordModal(r)};return t.onEditClick=t.onEditClick||a,g.default.createElement("button",{type:"button",className:"btn btn-default fa fa-pencil",onClick:t.onEditClick})},width:60,resizable:!1,sortable:!1},{Header:"Delete",Cell:function(t){var r=t.original.id,a=function(){return e.showRemoveRecordModal(r)};return t.onDeleteClick=t.onDeleteClick||a,g.default.createElement("button",{type:"button",className:"btn btn-default fa fa-trash-o",onClick:t.onDeleteClick})},width:60,resizable:!1,sortable:!1}]}},{key:"componentDidMount",value:function(){this.props.recordsStore.init({showLoading:!0})}},{key:"render",value:function(){var e=this.props.recordsStore,t=e.recordsGridData,r=e.noRecords,a=e.noFilteredRecords;return g.default.createElement("div",{className:"page records-page"},g.default.createElement(x.default,{title:"Records"}),g.default.createElement("h1",null,"Records"),g.default.createElement(R.default,{onDatesChange:this.onDatesChange}),r&&g.default.createElement("div",{className:"no-records-placeholder"},g.default.createElement("p",null,"Your records list is empty..."),g.default.createElement("p",null,"Feel free to create new record!")),!r&&a&&g.default.createElement("div",{className:"no-records-placeholder"},g.default.createElement("p",null,"There are no records in selected date range...")),!a&&g.default.createElement(S.default,{className:"records-table",data:t,columns:this.recordsGridColumns,pageSize:t.length,showPageSizeOptions:!1,showPagination:!1}),g.default.createElement("div",{className:"buttons-group"},g.default.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.showAddRecordModal},g.default.createElement("i",{className:"fa fa-plus"}),"Add new record")))}}]),t}(b.Component),l.propTypes={userStore:E.default.object.isRequired,modalStore:E.default.object.isRequired,recordsStore:E.default.object.isRequired},o=u))||o)||o;t.default=D,e.exports=t.default},253:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(82),o=a(n),l=r(33),u=a(l),i=r(81),s=a(i),d=r(156),c=a(d),f=r(413),p=a(f),m=r(965),v=r(403),h={ajax:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.showLoading,n=void 0!==a&&a;return(0,s.default)(o.default.mark(function r(){var a,l,i;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return v.loadingStore.toggleLoading(n),t.prev=1,t.next=4,(0,p.default)((0,u.default)({},m.config,e));case 4:return a=t.sent,t.abrupt("return",a);case 8:throw t.prev=8,t.t0=t.catch(1),l=v.routerStore.history,i=l.location.pathname,401===(0,c.default)(t.t0,"response.status")&&"/sign-up"!==i&&(v.userStore.resetUserData(),l.replace("/sign-up")),console.error(t.t0),t.t0;case 15:return t.prev=15,v.loadingStore.toggleLoading(!1),t.finish(15);case 18:case"end":return t.stop()}},r,t,[[1,8,15,18]])}))()}};t.default=h,e.exports=t.default},398:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(970);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(n).default}}),e.exports=t.default},399:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(977);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(n).default}}),e.exports=t.default},400:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){function t(e){"Enter"===e.key&&s(e)}var r=e.name,a=e.value,n=e.maxLength,o=e.placeholder,l=e.onFocus,u=e.onChange,i=e.onBlur,s=e.onEnter,d=e.disabled,f=e.tabIndex,p=e.ctrl;return c.default.createElement("input",{tabIndex:f,type:"text",id:r,name:r,value:a,maxLength:n,placeholder:o,disabled:d,className:"form-control field-anchor",onChange:u,onBlur:i,ref:function(e){p.ref=e},onKeyPress:t,onFocus:l})}function o(e){function t(e){"Enter"===e.key&&s(e)}var r=e.name,a=e.value,n=e.maxLength,o=e.placeholder,l=e.onFocus,u=e.onChange,i=e.onBlur,s=e.onEnter,d=e.disabled,f=e.tabIndex,p=e.ctrl;return c.default.createElement("textarea",{rows:"4",tabIndex:f,type:"text",id:r,name:r,value:a,maxLength:n,placeholder:o,disabled:d,className:"form-control field-anchor",onChange:u,onBlur:i,ref:function(e){p.ref=e},onKeyPress:t,onFocus:l})}function l(e){function t(e){"Enter"===e.key&&i(e)}var r=e.name,a=e.value,n=e.placeholder,o=e.onFocus,l=e.onChange,u=e.onBlur,i=e.onEnter,s=e.disabled,d=e.tabIndex,f=e.ctrl;return c.default.createElement("input",{tabIndex:d,type:"password",id:r,name:r,value:a,disabled:s,placeholder:n,className:"form-control field-anchor",onChange:l,onBlur:u,ref:function(e){f.ref=e},onKeyPress:t,onFocus:o})}function u(e){var t=e.name,r=e.value,a=e.placeholder,n=e.onFocus,o=e.onChange,l=e.onBlur,u=e.disabled,i=e.tabIndex,s=e.ctrl,d=void 0,f=function(){d.classList.add("fa-eye"),d.classList.remove("fa-eye-slash"),s.ref.type="text"},m=function(){d.classList.remove("fa-eye"),d.classList.add("fa-eye-slash"),s.ref.type="password"};return c.default.createElement("div",{className:"field-password-with-show-btn"},c.default.createElement("input",{tabIndex:i,type:"password",id:t,name:t,value:r,disabled:u,placeholder:a,className:"form-control",onChange:o,onBlur:l,ref:function(e){s.ref=e},onFocus:n}),c.default.createElement("span",{ref:function(e){d=e},className:(0,p.default)("field-icon fa",{"fa-eye-slash":void 0===s.ref||"password"===s.ref.type},{"fa-eye":s.ref&&"text"===s.ref.type}),onMouseDown:f,onTouchStart:f,onMouseUp:m,onTouchEnd:m,onMouseLeave:m}))}function i(e){var t=e.name,r=e.value,a=e.onChange,n=e.onFocus,o=e.ctrl,l=function(){return!1},u=function(){a.apply(void 0,arguments),o.focused=!1};return c.default.createElement(v.default,{id:t,date:r,onDateChange:u,focused:o.focused,onFocusChange:n,displayFormat:"DD.MM.YYYY",isOutsideRange:l,numberOfMonths:1})}function s(e){var t=e.name,r=e.value,a=e.onChange;return c.default.createElement(y.default,{name:t,value:r,showSecond:!0,defaultValue:(0,g.default)().startOf("day"),className:"form-control",onChange:a})}Object.defineProperty(t,"__esModule",{value:!0});var d=r(0),c=a(d),f=r(48),p=a(f);r(630),r(786),r(631);var m=r(798),v=a(m),h=r(778),y=a(h),b=r(3),g=a(b);t.default={inputTextCtrl:n,textAreaCtrl:o,inputPasswordCtrl:l,inputPasswordCtrlWithShowBnt:u,singleDatePickerCtrl:i,timePickerCtrl:s},e.exports=t.default},401:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r,a){r&&(0,g.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}function o(e,t,r,a,n){var o={};return Object.keys(a).forEach(function(e){o[e]=a[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.MODAL_TYPES=void 0;var l,u,i,s,d,c,f,p,m,v,h,y,b=r(64),g=a(b),_=r(106),E=a(_),C=r(33),x=a(C),k=r(107),w=a(k),S=r(5),N=a(S),O=r(6),M=a(O),P=r(77),j=t.MODAL_TYPES={error:"ERROR_MODE",confirm:"CONFIRM_MODE",info:"INFO_MODE",custom:"CUSTOM_MODE"},R=(l=function(){function e(){(0,N.default)(this,e),n(this,"title",u,this),n(this,"body",i,this),n(this,"isOpen",s,this),n(this,"noClose",d,this),n(this,"noCloseOnRedirect",c,this),n(this,"modalType",f,this),n(this,"modalClassName",p,this),n(this,"shouldCloseOnOverlayClick",m,this),n(this,"noBackdrop",v,this),n(this,"onCloseCallback",h,this),n(this,"buttons",y,this),this._resetFields()}return(0,M.default)(e,[{key:"_resetFields",value:function(){var e=this;this.title=null,this.body=null,this.isOpen=!1,this.modalType=null,this.modalClassName=null,this.onCloseCallback=null,this._modalResult=new w.default(function(t){e._resolve=t}),this.noBackdrop=!1,this.buttons={ok:"OK",cancel:"Cancel"}}},{key:"showError",value:function(e){var t=e.title,r=e.body,a=e.className,n=e.onCloseCallback;return this._showModal({title:t,body:r,modalType:j.error,className:"modal-info "+a,noBackdrop:!0,onCloseCallback:n}),this._modalResult}},{key:"showConfirm",value:function(e){var t=e.title,r=e.body,a=e.className,n=e.onCloseCallback,o=e.buttons,l=void 0===o?{}:o;return this._showModal({title:t,body:r,modalType:j.confirm,className:"modal-info "+a,onCloseCallback:n,buttons:(0,x.default)({ok:"OK",cancel:"Cancel"},l)}),this._modalResult}},{key:"showInfo",value:function(e){var t=e.title,r=e.body,a=e.className,n=e.onCloseCallback,o=e.buttons,l=void 0===o?{}:o;return this._showModal({title:t,body:r,modalType:j.info,className:"modal-info "+a,onCloseCallback:n,buttons:(0,x.default)({ok:"OK",cancel:"Cancel"},l)}),this._modalResult}},{key:"showCustom",value:function(e){var t=e.title,r=void 0===t?"":t,a=e.component,n=e.className,o=void 0===n?"":n,l=e.noClose,u=void 0!==l&&l,i=e.noCloseOnRedirect,s=void 0!==i&&i,d=e.shouldCloseOnOverlayClick,c=void 0===d||d;return this.noClose=u,this.noCloseOnRedirect=s,this.shouldCloseOnOverlayClick=c,this._showModal({title:r,body:a,modalType:j.custom,className:"modal-custom "+o}),this._modalResult}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.noClose||(this._resolve(e),this._resetFields())}},{key:"_showModal",value:function(e){var t=e.title,r=e.body,a=e.modalType,n=e.className,o=e.noBackdrop,l=e.onCloseCallback,u=e.buttons,i=void 0===u?{}:u;this.isOpen=!0,this.title=t,this.body=r,this.modalType=a,this.noBackdrop=o,this.modalClassName=n,this.onCloseCallback=l,this.buttons=(0,x.default)({ok:"OK",cancel:"Cancel"},i)}}]),e}(),u=o(l.prototype,"title",[P.observable],{enumerable:!0,initializer:null}),i=o(l.prototype,"body",[P.observable],{enumerable:!0,initializer:null}),s=o(l.prototype,"isOpen",[P.observable],{enumerable:!0,initializer:null}),d=o(l.prototype,"noClose",[P.observable],{enumerable:!0,initializer:null}),c=o(l.prototype,"noCloseOnRedirect",[P.observable],{enumerable:!0,initializer:null}),f=o(l.prototype,"modalType",[P.observable],{enumerable:!0,initializer:null}),p=o(l.prototype,"modalClassName",[P.observable],{enumerable:!0,initializer:null}),m=o(l.prototype,"shouldCloseOnOverlayClick",[P.observable],{enumerable:!0,initializer:null}),v=o(l.prototype,"noBackdrop",[P.observable],{enumerable:!0,initializer:null}),h=o(l.prototype,"onCloseCallback",[P.observable],{enumerable:!0,initializer:null}),y=o(l.prototype,"buttons",[P.observable],{enumerable:!0,initializer:null}),o(l.prototype,"showError",[P.action],(0,E.default)(l.prototype,"showError"),l.prototype),o(l.prototype,"showConfirm",[P.action],(0,E.default)(l.prototype,"showConfirm"),l.prototype),o(l.prototype,"showInfo",[P.action],(0,E.default)(l.prototype,"showInfo"),l.prototype),o(l.prototype,"showCustom",[P.action],(0,E.default)(l.prototype,"showCustom"),l.prototype),o(l.prototype,"close",[P.action],(0,E.default)(l.prototype,"close"),l.prototype),l);t.default=new R},402:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(401);Object.defineProperty(t,"modalStore",{enumerable:!0,get:function(){return a(n).default}});var o=r(985);Object.defineProperty(t,"ModalDialog",{enumerable:!0,get:function(){return a(o).default}})},403:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(990);Object.defineProperty(t,"loadingStore",{enumerable:!0,get:function(){return a(n).default}});var o=r(994);Object.defineProperty(t,"userStore",{enumerable:!0,get:function(){return a(o).default}});var l=r(992);Object.defineProperty(t,"routerStore",{enumerable:!0,get:function(){return a(l).default}})},404:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){return e?l.default.createElement(u.Switch,null,e.map(function(e,t){var r=n(e.routes);return r&&(r=l.default.createElement(e.component,null,r)),l.default.createElement(u.Route,{key:e.key||t,path:e.path,exact:e.exact,strict:e.strict,component:r?null:e.component},r)})):null}Object.defineProperty(t,"__esModule",{value:!0}),r(583),r(588),r(591),r(592),r(586),r(589),r(587),r(590),r(584),r(585),r(517),r(574),r(593),r(594),r(556),r(557),r(558),r(559),r(562),r(560),r(561),r(563),r(564),r(565),r(566),r(568),r(567),r(555),r(582),r(543),r(553),r(552),r(548),r(549),r(547),r(544),r(546),r(551),r(545),r(542),r(550),r(554),r(516),r(579),r(577),r(575),r(580),r(581),r(576),r(578),r(569),r(570),r(571),r(573),r(572),r(514),r(515),r(510),r(513),r(512),r(511),r(208),r(536),r(537),r(539),r(538),r(535),r(541),r(540),r(518),r(519),r(520),r(521),r(522),r(523),r(524),r(525),r(526),r(527),r(529),r(528),r(530),r(531),r(532),r(533),r(534),r(595),r(598),r(596),r(597),r(600),r(599),r(603),r(602),r(601),r(963);var o=r(0),l=a(o),u=r(19),i=r(39),s=r(31),d=r(312),c=a(d),f=r(337);r(632);var p=r(1004),m=a(p),v=r(988),h=a(v),y=r(403),b=r(402),g=r(1e3),_=void 0,E={userStore:y.userStore,modalStore:b.modalStore,recordsStore:g.recordsStore,routerStore:y.routerStore,loadingStore:y.loadingStore},C=function(e){var t=e.children;return l.default.createElement(s.Provider,E,l.default.createElement(h.default,null,t||n(m.default)))},x=(0,c.default)(),k=(0,f.syncHistoryWithStore)(x,y.routerStore);_=document.getElementById("content"),(0,i.render)(l.default.createElement(u.Router,{history:k},l.default.createElement(C,null)),_),t.default=C,e.exports=t.default},633:function(e,t){},634:function(e,t){},635:function(e,t){},636:function(e,t){},637:function(e,t){},638:function(e,t){},639:function(e,t){},640:function(e,t){},641:function(e,t){},642:function(e,t){},643:function(e,t){},644:function(e,t){},965:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.config={baseURL:"/api"}},966:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loginApi=void 0;var a=r(253),n=function(e){return e&&e.__esModule?e:{default:e}}(a);t.loginApi={doSignIn:function(e,t){var r=e.email,a=e.password;return n.default.ajax({method:"post",url:"/auth/sign-in",data:{username:r,password:a}},t).then(function(e){return e.data}).then(function(e){return{firstName:e.firstName,lastName:e.lastName,email:e.email}})},doSignOut:function(e){return n.default.ajax({method:"post",url:"/auth/sign-out"},e).then(function(e){return e.data}).then(function(e){return{firstName:e.firstName,lastName:e.lastName,email:e.email}})},doSignUp:function(e,t){var r=e.firstName,a=e.lastName,o=e.email,l=e.password,u=e.repeatPassword;return n.default.ajax({method:"post",url:"/auth/sign-up",data:{firstName:r,lastName:a,email:o,password:l,repeatPassword:u}},t).then(function(e){return e.data}).then(function(e){return{firstName:e.firstName,lastName:e.lastName,email:e.email}})},getUserData:function(e){return n.default.ajax({method:"get",url:"/user-data"},e).then(function(e){return e.data}).then(function(e){return{firstName:e.firstName,lastName:e.lastName,email:e.email}})}}},967:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){return{id:e.id,date:(0,s.default)(+e.date),distance:e.distance,time:u(e.time),averageSpeed:e.averageSpeed.toFixed(2)}}function o(e){var t=e.date,r=e.distance,a=e.time;return{date:t.startOf("day").valueOf(),distance:+r,time:l(a)}}function l(e){var t=e.clone().startOf("day");return e.diff(t,"seconds")}function u(e){var t=Math.floor(e/3600),r=Math.floor((e-3600*t)/60),a=e-3600*t-60*r;return(0,s.default)({hours:t,minutes:r,seconds:a})}Object.defineProperty(t,"__esModule",{value:!0}),t.recordsApi=void 0;var i=r(3),s=a(i),d=r(253),c=a(d);t.recordsApi={createRecord:function(e,t){var r=e.date,a=e.distance,l=e.time;return c.default.ajax({method:"post",url:"/records",data:o({date:r,distance:a,time:l})},t).then(function(e){return e.data}).then(n)},updateRecord:function(e,t){var r=e.id,a=e.date,l=e.distance,u=e.time;return c.default.ajax({method:"put",url:"/records/"+r,data:o({date:a,distance:l,time:u})},t).then(function(e){return e.data}).then(n)},removeRecord:function(e,t){return c.default.ajax({method:"delete",url:"/records/"+e},t).then(function(e){return e.data})},getAllRecords:function(e){return c.default.ajax({method:"get",url:"/records"},e).then(function(e){return e.data}).then(function(e){return e.map(n)})}}},968:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,l,u,i=r(33),s=a(i),d=r(22),c=a(d),f=r(5),p=a(f),m=r(6),v=a(m),h=r(11),y=a(h),b=r(10),g=a(b),_=r(0),E=a(_),C=r(2),x=a(C),k=r(242),w=r(31),S=(n=(0,w.inject)("userStore"))(o=(0,w.observer)((u=l=function(e){function t(){return(0,p.default)(this,t),(0,y.default)(this,(t.__proto__||(0,c.default)(t)).apply(this,arguments))}return(0,g.default)(t,e),(0,v.default)(t,[{key:"render",value:function(){var e=this.props,t=e.userStore,r=e.component,a=e.path,n=t.isInitialized,o=t.isLoggedIn;return n?o?E.default.createElement(k.Route,(0,s.default)({},this.props,{component:r})):E.default.createElement(k.Redirect,{to:{pathname:"/sign-up",state:{backUrl:a}}}):null}}]),t}(_.Component),l.propTypes={userStore:x.default.object.isRequired,component:x.default.func.isRequired,path:x.default.string.isRequired},o=u))||o)||o;t.default=S,e.exports=t.default},969:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(968);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(n).default}}),e.exports=t.default},970:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,l=r(22),u=a(l),i=r(5),s=a(i),d=r(6),c=a(d),f=r(11),p=a(f),m=r(10),v=a(m),h=r(0),y=a(h),b=r(2),g=a(b);r(633);var _=(o=n=function(e){function t(){return(0,s.default)(this,t),(0,p.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props.error;return e?y.default.createElement("div",{className:"error-summary"},y.default.createElement("div",{className:"error-item"},e)):null}}]),t}(h.Component),n.propTypes={error:g.default.string},o);t.default=_,e.exports=t.default},971:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,l,u,i=r(82),s=a(i),d=r(81),c=a(d),f=r(22),p=a(f),m=r(5),v=a(m),h=r(6),y=a(h),b=r(11),g=a(b),_=r(10),E=a(_),C=r(0),x=a(C),k=r(2),w=a(k),S=r(31),N=r(48),O=a(N),M=r(19),P=r(169);r(634);var j=(n=(0,S.inject)("userStore"))(o=(0,M.withRouter)(o=(0,S.observer)((u=l=function(e){function t(){var e,r,a,n,o=this;(0,v.default)(this,t);for(var l=arguments.length,u=Array(l),i=0;i<l;i++)u[i]=arguments[i];return r=a=(0,g.default)(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(u))),a.state={error:null},a.onSignIn=(0,c.default)(s.default.mark(function e(){var t,r,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.formStore.validate().valid){e.next=3;break}return a.formStore.setFocusFirstInvalid(),e.abrupt("return");case 3:return t=a.formStore.values,r=t.authEmail,n=t.authPassword,e.prev=4,e.next=7,a.props.userStore.doSignIn({email:r,password:n},{showLoading:!0});case 7:a.formStore.resetFormData(),a.setState({error:null}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),a.processAjaxError(e.t0);case 14:case"end":return e.stop()}},e,o,[[4,11]])})),a.onSignOut=function(){a.props.userStore.doSignOut(),a.props.history.push("/sign-up")},a.processAjaxError=function(e){var t=e.response.data.error;a.setState({error:t})},n=r,(0,g.default)(a,n)}return(0,E.default)(t,e),(0,y.default)(t,[{key:"componentWillMount",value:function(){this.formStore=new P.FormStore({authEmail:{value:"",validators:[P.Validators.required(!0)]},authPassword:{value:"",validators:[P.Validators.required(!0)]}})}},{key:"render",value:function(){var e=this.state.error,t=this.props.userStore.isLoggedIn,r=P.Controls.inputTextCtrl,a=P.Controls.inputPasswordCtrl;return x.default.createElement("div",{className:(0,O.default)("header",{"is-logged-in":t})},x.default.createElement("div",{className:"header-brand"},"Jogging App"),x.default.createElement("div",{className:"header-auth"},t&&x.default.createElement("button",{type:"button",className:"btn btn-default",onClick:this.onSignOut},"Logout"),!t&&x.default.createElement(P.Form,{className:"login-form",store:this.formStore,onSubmit:this.onSignIn},x.default.createElement(P.Field,{className:"control-field",name:"authEmail",control:r,placeholder:"Email"}),x.default.createElement(P.Field,{className:"control-field",name:"authPassword",control:a,placeholder:"Password"}),e&&x.default.createElement("div",{className:"login-error-summary field-error-text"},e),x.default.createElement("button",{type:"submit",className:"btn btn-default btn-submit"},"Log In"))))}}]),t}(C.Component),l.propTypes={userStore:w.default.object.isRequired,history:w.default.object.isRequired},o=u))||o)||o)||o;t.default=j,e.exports=t.default},972:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(971);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(n).default}}),e.exports=t.default},973:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,l,u,i=r(22),s=a(i),d=r(5),c=a(d),f=r(6),p=a(f),m=r(11),v=a(m),h=r(10),y=a(h),b=r(0),g=a(b),_=r(31),E=r(2),C=a(E);r(635);var x=(n=(0,_.inject)("loadingStore"))(o=(0,_.observer)((u=l=function(e){function t(){return(0,c.default)(this,t),(0,v.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,y.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){return this.props.loadingStore.isLoading?g.default.createElement("div",{className:"loading-screen"},g.default.createElement("div",{className:"loader"})):null}}]),t}(b.Component),l.propTypes={loadingStore:C.default.object.isRequired},o=u))||o)||o;t.default=x,e.exports=t.default},974:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(973);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(n).default}}),e.exports=t.default},975:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,l,u=r(22),i=a(u),s=r(5),d=a(s),c=r(6),f=a(c),p=r(11),m=a(p),v=r(10),h=a(v),y=r(0),b=a(y),g=r(2),_=a(g),E=r(242),C=r(19);r(636);var x=(0,C.withRouter)((l=o=function(e){function t(){var e,r,a,n;(0,d.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return r=a=(0,m.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),a.state={visible:!1},a.updateVisibility=function(e){var t=e.pathname;a.setState({visible:/\/records|\/reports/.test(t)})},n=r,(0,m.default)(a,n)}return(0,h.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.updateVisibility(this.props.location),this.unlinsten=this.props.history.listen(this.updateVisibility)}},{key:"componentWillUnmount",value:function(){this.unlinsten()}},{key:"render",value:function(){return this.state.visible?b.default.createElement("ul",{className:"nav-sub-header list-unstyled"},b.default.createElement("li",{className:"nav-item"},b.default.createElement(E.NavLink,{className:"nav-link unstyled-link",to:"/records",activeClassName:"active"},"Records")),b.default.createElement("li",{className:"nav-item"},b.default.createElement(E.NavLink,{className:"nav-link unstyled-link",to:"/reports",activeClassName:"active"},"Reports"))):null}}]),t}(y.Component),o.propTypes={history:_.default.object.isRequired,location:_.default.object.isRequired},n=l))||n;t.default=x,e.exports=t.default},976:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(975);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(n).default}}),e.exports=t.default},977:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){return function(t){function r(){var e,t,a,n;(0,d.default)(this,r);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return t=a=(0,m.default)(this,(e=r.__proto__||(0,i.default)(r)).call.apply(e,[this].concat(l))),a.state={error:null},a.setError=function(e){a.setState({error:e})},a.processAjaxError=function(e){400===(0,b.default)(e,"response.status")&&a.setState({error:e.response.data.error})},n=t,(0,m.default)(a,n)}return(0,h.default)(r,t),(0,f.default)(r,[{key:"render",value:function(){return _.default.createElement(e,(0,l.default)({error:this.state.error,setErrors:this.setError,processAjaxError:this.processAjaxError},this.props))}}]),r}(g.Component)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(33),l=a(o),u=r(22),i=a(u),s=r(5),d=a(s),c=r(6),f=a(c),p=r(11),m=a(p),v=r(10),h=a(v),y=r(156),b=a(y);t.default=n;var g=r(0),_=a(g);e.exports=t.default},978:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,l,u,i=r(33),s=a(i),d=r(22),c=a(d),f=r(5),p=a(f),m=r(6),v=a(m),h=r(11),y=a(h),b=r(10),g=a(b),_=r(0),E=a(_),C=r(2),x=a(C),k=r(242),w=r(19),S=r(31),N=(n=(0,S.inject)("userStore"),(0,w.withRouter)(o=n(o=(0,S.observer)((u=l=function(e){function t(){return(0,p.default)(this,t),(0,y.default)(this,(t.__proto__||(0,c.default)(t)).apply(this,arguments))}return(0,g.default)(t,e),(0,v.default)(t,[{key:"render",value:function(){var e=this.props,t=e.userStore,r=e.component,a=e.location,n=t.isLoggedIn,o=t.isInitialized,l=a.state;return o?n?l&&l.backUrl?E.default.createElement(k.Redirect,{to:l.backUrl}):E.default.createElement(k.Redirect,{to:"/records"}):E.default.createElement(k.Route,(0,s.default)({},this.props,{component:r})):null}}]),t}(_.Component),l.propTypes={userStore:x.default.object.isRequired,component:x.default.func.isRequired,location:x.default.object.isRequired},o=u))||o)||o)||o);t.default=N,e.exports=t.default},979:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(978);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(n).default}}),e.exports=t.default},980:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r,a){r&&(0,f.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}function o(e,t,r,a,n){var o={};return Object.keys(a).forEach(function(e){o[e]=a[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,i,s,d,c=r(64),f=a(c),p=r(106),m=a(p),v=r(438),h=a(v),y=r(107),b=a(y),g=r(259),_=a(g),E=r(33),C=a(E),x=r(5),k=a(x),w=r(6),S=a(w),N=r(746),O=a(N),M=r(76),P=a(M),j=r(332),R=a(j),D=r(748),A=a(D),F=r(741),L=a(F),z=r(77),T=r(986),I=(s=i=function(){function e(t,r,a){(0,k.default)(this,e),d.call(this);var n=(0,C.default)({},t);n=this.initializeControls(n,r,a),this._ctrls=z.observable.map(n)}return(0,S.default)(e,[{key:"setFormData",value:function(e){var t=this;(0,L.default)(e,function(e,r){t._ctrls.get(r)&&(t._ctrls.get(r).value=e)})}},{key:"validate",value:function(){var e=this,t={};return this._ctrls.forEach(function(r){var a=e.validateCtrl(r);r.touched=!0,r.error=a,a&&(t[r.name]=a)}),{valid:(0,R.default)(t),errors:t}}},{key:"validateTouchedCtrls",value:function(){var e=this;this._ctrls.forEach(function(t){t.touched&&(t.error=e.validateCtrl(t))})}},{key:"validateCtrl",value:function(e){if(!(0,P.default)(e)||!e.hasOwnProperty("validators"))return null;var t=this.values,r=!0,a=!1,n=void 0;try{for(var o,l=(0,_.default)(e.validators);!(r=(o=l.next()).done);r=!0){var u=o.value,i=u(e.value,t,e,this._ctrls);if(i)return i}}catch(e){a=!0,n=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw n}}return null}},{key:"asyncValidateCtrl",value:function(e){var t=this,r=this.getCtrl(e);if(!r.error){var a=this.values,n=[];r.options&&(r.options.isAsyncValidatingInProgress=!0);var o=!0,l=!1,u=void 0;try{for(var i,s=(0,_.default)(r.asyncValidators);!(o=(i=s.next()).done);o=!0){var d=i.value;n.push(d(r.value,a,r))}}catch(e){l=!0,u=e}finally{try{!o&&s.return&&s.return()}finally{if(l)throw u}}return b.default.all(n).then(function(){return t._asyncValidatingDone(null,r)},function(e){return t._asyncValidatingDone(e,r)})}}},{key:"mergeConfiguration",value:function(e){this.ctrls.forEach(function(t,r){t.error=null,e[r]&&(t.validators=e[r].validators||t.validators,t.options=(0,C.default)({},t.options,e[r].options,{hide:e[r].hide}),""!==e[r].value||t.readonly||(t.value=""))})}},{key:"getCtrl",value:function(e){return this._ctrls.get(e)}},{key:"setFocus",value:function(e){var t=this.getCtrl(e);return(0,T.retryAsync)(function(){return!(!t||!t.ref)&&(t.ref.focus(),!0)}).result}},{key:"setFocusFirstEmpty",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=(0,_.default)(this._ctrls);!(e=(a=n.next()).done);e=!0){var o=(0,h.default)(a.value,2),l=o[0],u=o[1];if((0,R.default)(u.value))return this.setFocus(l),!0}}catch(e){t=!0,r=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw r}}return!1}},{key:"setFocusFirstInvalid",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=(0,_.default)(this._ctrls);!(e=(a=n.next()).done);e=!0){var o=(0,h.default)(a.value,2),l=o[0];if(o[1].error)return this.setFocus(l),!0}}catch(e){t=!0,r=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw r}}return!1}},{key:"resetFormData",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=(0,_.default)(this._ctrls);!(e=(a=n.next()).done);e=!0){(0,h.default)(a.value,2)[1].value=""}}catch(e){t=!0,r=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw r}}}},{key:"_asyncValidatingDone",value:function(e,t){t.error=e,t.options.isAsyncValidatingInProgress=!1}},{key:"disableAll",value:function(){this._ctrls.forEach(function(e){e.disabled=!0})}},{key:"ctrls",get:function(){return this._ctrls}},{key:"ctrlsData",get:function(){return(0,O.default)(this._ctrls._data,function(e){return e.value})}},{key:"values",get:function(){return(0,O.default)((0,z.toJS)(this._ctrls),function(e){return e.value})}},{key:"nonHiddenValues",get:function(){return(0,O.default)((0,z.toJS)(this._ctrls),function(e){if(!e.options||!e.options.hide)return e.value})}}]),e}(),d=function(){n(this,"_ctrls",u,this),this.initializeControls=function(e,t,r){var a={};return(0,L.default)(e,function(e,n){e.error=null,e.name=n,e.validators=e.validators||[],e.asyncValidators=e.asyncValidators||[],e.transform=e.transform||function(e){return e},e.onFocusTransform=e.onFocusTransform||function(e){return e},e.onBlurTransform=e.onBlurTransform||function(e){return e},e.disabled=e.disabled||!1,e.onEnter=e.onEnter||A.default,e.isDifirenceExist=!1,e.focused=!1;var o=e.onChanged||A.default;e.onChanged=t?function(e,r,a){if("function"==typeof t)t(e,r,a);else if(Array.isArray(t)){var n=!0,l=!1,u=void 0;try{for(var i,s=(0,_.default)(t);!(n=(i=s.next()).done);n=!0){var d=i.value;d(e,r,a)}}catch(e){l=!0,u=e}finally{try{!n&&s.return&&s.return()}finally{if(l)throw u}}}o(e,r,a)}:o;var l=e.onBlured||A.default;e.onBlured=r?function(e,t){if("function"==typeof r)r(e,t);else if(Array.isArray(r)){var a=!0,n=!1,o=void 0;try{for(var u,i=(0,_.default)(r);!(a=(u=i.next()).done);a=!0){var s=u.value;s(e,t)}}catch(e){n=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw o}}}l(e,t)}:l,a[n]=e}),a}},l=s,u=o(l.prototype,"_ctrls",[z.observable],{enumerable:!0,initializer:function(){return z.observable.map({})}}),o(l.prototype,"setFormData",[z.action],(0,m.default)(l.prototype,"setFormData"),l.prototype),o(l.prototype,"validate",[z.action],(0,m.default)(l.prototype,"validate"),l.prototype),o(l.prototype,"validateTouchedCtrls",[z.action],(0,m.default)(l.prototype,"validateTouchedCtrls"),l.prototype),o(l.prototype,"validateCtrl",[z.action],(0,m.default)(l.prototype,"validateCtrl"),l.prototype),o(l.prototype,"asyncValidateCtrl",[z.action],(0,m.default)(l.prototype,"asyncValidateCtrl"),l.prototype),o(l.prototype,"mergeConfiguration",[z.action],(0,m.default)(l.prototype,"mergeConfiguration"),l.prototype),l);t.default=I,e.exports=t.default},981:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,l,u=r(128),i=a(u),s=r(33),d=a(s),c=r(22),f=a(c),p=r(5),m=a(p),v=r(6),h=a(v),y=r(11),b=a(y),g=r(10),_=a(g),E=r(743),C=a(E),x=r(756),k=a(x),w=r(334),S=a(w),N=r(0),O=a(N),M=r(31),P=r(48),j=a(P),R=r(2),D=a(R),A=r(400),F=a(A),L=(0,M.observer)((l=o=function(e){function t(){var e,r,a,n;(0,m.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return r=a=(0,b.default)(this,(e=t.__proto__||(0,f.default)(t)).call.apply(e,[this].concat(l))),a.onChange=function(e){var t=a.getCtrl();t.touched=!0;var r=e,n=e&&e.target;n&&(r="checkbox"===n.type||"checkbox"===n.dataset.type?n.checked:n.value),(0,S.default)(r)&&(r=(0,k.default)(r));var o=t.transform(r,t.value,t);t.isDifirenceExist=t.value!==r,t.value=o,t.error=a.context.store.validateCtrl(t),t.onChanged(t,a.context.store.ctrlsData,a.context.store)},a.onBlur=function(){var e=a.getCtrl();e.touched&&(e.value=e.onBlurTransform(e.value,e),e.asyncValidators.length&&a.context.store.asyncValidateCtrl(a.props.name),e.onBlured&&e.onBlured(e,a.context.store.ctrlsData),e.error=a.context.store.validateCtrl(e))},a.onFocus=function(e){var t=e.focused,r=a.getCtrl();r.value=r.onFocusTransform(r.value,r),r.touched=!0,(0,C.default)(t)&&(r.focused=t)},a.onEnter=function(e){a.getCtrl().onEnter(e)},n=r,(0,b.default)(a,n)}return(0,_.default)(t,e),(0,h.default)(t,[{key:"shouldComponentUpdate",value:function(e,t,r){return this.context.store!==r.store}},{key:"getCtrl",value:function(){return this.context.store.getCtrl(this.props.name)}},{key:"render",value:function(){var e,t=this.props,r=t.name,a=t.control,n=t.placeholder,o=t.hideError,l=t.className,u=t.tabIndex,s=t.children,c=this.getCtrl(),f=c.value,p=c.error,m=c.touched,v=c.options,h=c.disabled,y=c.maxLength,b=F.default.inputTextCtrl,g=F.default.prefixPhoneInputCtrl,_=F.default.prefixInputCtrl,E=F.default.inputCheckboxWithLabelCtrl,C=F.default.inputPasswordCtrlWithShowBnt;[b,_,g].indexOf(a)>-1&&""!==f&&(n="");var x=void 0;x=[E,C].indexOf(a)>-1?n:h?"":n;var k=(0,d.default)({},this.props,{children:s,name:r,value:f,placeholder:x,options:v,disabled:h,maxLength:y,touched:m,error:p,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onEnter:this.onEnter,tabIndex:u,isMobile:this.context.isMobile,ctrl:this.getCtrl()}),w=a(k);return O.default.createElement("div",{className:(0,j.default)("field",(e={},(0,i.default)(e,l,!!l),(0,i.default)(e,"field-error",p),e))},w,!o&&p&&O.default.createElement("small",{className:"field-error-text form-text"},p))}}]),t}(N.Component),o.propTypes={name:D.default.string.isRequired,control:D.default.func.isRequired,placeholder:D.default.string,hideError:D.default.bool,className:D.default.string},o.contextTypes={store:D.default.object,isMobile:D.default.bool},n=l))||n;t.default=L,e.exports=t.default},982:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,l,u=r(22),i=a(u),s=r(5),d=a(s),c=r(6),f=a(c),p=r(11),m=a(p),v=r(10),h=a(v),y=r(0),b=a(y),g=r(31);r(637);var _=r(2),E=a(_),C=(0,g.observer)((l=o=function(e){function t(){var e,r,a,n;(0,d.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return r=a=(0,m.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),a.onSubmit=function(e){e.preventDefault();var t=a.props.store;t&&(t.submitted=!0),a.props.onSubmit(e)},n=r,(0,m.default)(a,n)}return(0,h.default)(t,e),(0,f.default)(t,[{key:"getChildContext",value:function(){return{store:this.props.store}}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.className;return b.default.createElement("form",{onSubmit:this.onSubmit,className:r,noValidate:"noValidate"},t)}}]),t}(y.Component),o.propTypes={store:E.default.object.isRequired,children:E.default.any.isRequired,onSubmit:E.default.func,className:E.default.string},o.childContextTypes={store:E.default.object},n=l))||n;t.default=C,e.exports=t.default},983:function(e,t,r){"use strict";function a(e,t){var r=/^((\d{0,10})|((\d{1,10})\.?(\d{0,10})))$/,a=e;return r.test(a)||(a=t),a}function n(){return function(e,t){return null!==f.Validators.name("")(e)?t:e}}function o(){return function(e,t){return null!==f.Validators.nameOnlyLetters("")(e)?t:e}}function l(e){return function(t,r){return e.test(t)?t:r}}function u(e){return function(t,r){return/^\d*$/.test(t)&&null===f.Validators.maxLength(e,"")(t)?t:r}}function i(e){return function(t,r){return!/^\d*$/.test(t)||null!==f.Validators.maxLength(e,"")(t)||(0,c.default)(t,"0")||"-"===t?r:t}}function s(e){var t=e.value.split(" ");e.value=t.map(function(e){return e[0]&&e[0].toUpperCase()+e.substr(1).toLowerCase()}).join(" ")}Object.defineProperty(t,"__esModule",{value:!0});var d=r(751),c=function(e){return e&&e.__esModule?e:{default:e}}(d),f=r(169);t.default={float:a,name:n,nameOnlyLetters:o,onlySymbolsByRegex:l,numberWithLength:u,positiveNumberWithLength:i,sentenceCaseTransform:s},e.exports=t.default},984:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){function t(t){return(0,w.default)(t)&&!(0,x.default)(t)||(0,E.default)(t)&&(0,w.default)(t.trim())?e:null}return t.isRequiredFunction=!0,t}function o(e,t){return function(r){return r.length<e&&r.length>0?t:null}}function l(e,t){return function(r){return r.length>e&&r.length>0?t:null}}function u(e,t,r){return function(a){return(a.length<e||a.length>t)&&a.length>0?r:null}}function i(e,t){return function(r){return r<e?t:null}}function s(e){return m(new RegExp("^[-+]?([0]|[1-9]([0-9]{0,30}))$"),e)}function d(e){return m(new RegExp("^[-+]?([0]|[1-9]([0-9]{0,30}))(.[0-9]{1,30})?$"),e)}function c(e){return function(t){return("boolean"!=typeof t||"true"!==t||"false"!==t)&&t.length>0?e:null}}function f(e){return function(t){return"string"!=typeof t?e:null}}function p(e){return m(/^(((((((0?[13578])|(1[02]))[\.\-\/]?((0?[1-9])|([12]\d)|(3[01])))|(((0?[469])|(11))[\.\-\/]?((0?[1-9])|([12]\d)|(30)))|((0?2)[\.\-\/]?((0?[1-9])|(1\d)|(2[0-8]))))[\.\-\/]?(((19)|(20))?([\d][\d]))))|((0?2)[\.\-\/]?(29)[\.\-\/]?(((19)|(20))?(([02468][048])|([13579][26])))))$/,e)}function m(e,t){return function(r){return!e.test(r)&&r.length>0?t:null}}function v(e){return m(/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-zA-Z0-9]+([\-]{1}[a-zA-Z0-9]+)*\.[a-zA-Z0-9]+([\-\.\/]{1}[a-zA-Z0-9]+)*$/,e)}function h(e){return m(/^[a-zA-Z0-9&()]+([&., '\/-]*[&a-zA-Z0-9()]*)*$/,e)}function y(e){return m(/[a-zA-Z]+/,e)}function b(e){return m(/^[a-zA-Z]+(\s[a-zA-Z]+)*$/,e)}function g(e){return m(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,e)}Object.defineProperty(t,"__esModule",{value:!0});var _=r(334),E=a(_),C=r(744),x=a(C),k=r(332),w=a(k);t.default={required:n,minLength:o,regex:m,maxLength:l,rangeLength:u,minValue:i,number:s,float:d,bool:c,string:f,date:p,website:v,name:h,nameOnlyLetters:b,email:g,containsLetters:y},e.exports=t.default},985:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,l,u,i=r(22),s=a(i),d=r(5),c=a(d),f=r(6),p=a(f),m=r(11),v=a(m),h=r(10),y=a(h),b=r(745),g=a(b),_=r(0),E=a(_),C=r(2),x=a(C),k=r(31),w=r(899),S=a(w),N=r(401);r(638);var O=(n=(0,k.inject)("modalStore","routerStore"))(o=(0,k.observer)((u=l=function(e){function t(){var e,r,a,n;(0,c.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return r=a=(0,v.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(l))),a.onLocationChange=function(){a.props.modalStore.noCloseOnRedirect||a.props.modalStore.close(!1)},a.close=function(){a.props.modalStore.onCloseCallback&&a.props.modalStore.onCloseCallback(),a.props.modalStore.close(!0)},a.dismiss=function(){a.props.modalStore.noClose||a.props.modalStore.close(!1)},n=r,(0,v.default)(a,n)}return(0,y.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this.unlisten=this.props.routerStore.history.listen(this.onLocationChange)}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"render",value:function(){var e=this.props.modalStore,r=e.isOpen,a=e.noBackdrop,n=e.modalType,o=e.modalClassName,l=e.shouldCloseOnOverlayClick,u=e.title,i=e.body,s=e.buttons;return E.default.createElement(S.default,{isOpen:r,onRequestClose:this.dismiss,style:a?t.noBackdropStyle:{},className:"modal "+o,shouldCloseOnOverlayClick:l,contentLabel:""},E.default.createElement("div",{className:"modal-dialog"},E.default.createElement("div",{className:"modal-content"},E.default.createElement("button",{type:"button",className:"close",onClick:this.dismiss},"×"),E.default.createElement("div",{className:"modal-header"},E.default.createElement("h3",{className:"modal-title"},u)),n===N.MODAL_TYPES.custom&&E.default.createElement("div",{className:"modal-custom-body"},i&&i.length&&"string"!=typeof i?(0,g.default)(i,function(e){return E.default.createElement("p",{key:e},e)}):i),n!==N.MODAL_TYPES.custom&&E.default.createElement("div",null,E.default.createElement("div",{className:"modal-body"},!E.default.isValidElement(i)&&i&&i.length&&"string"!=typeof i?(0,g.default)(i,function(e){return E.default.createElement("p",{key:e},e)}):i),E.default.createElement("div",{className:"modal-footer"},E.default.createElement("button",{className:"btn btn-primary",type:"button",onClick:this.close},s.ok),n===N.MODAL_TYPES.confirm&&E.default.createElement("button",{className:"btn btn-default",type:"button",onClick:this.dismiss},s.cancel))))))}}]),t}(_.Component),l.propTypes={modalStore:x.default.object.isRequired,routerStore:x.default.object.isRequired},l.noBackdropStyle={overlay:{backgroundColor:"transparent",pointerEvents:"none",zIndex:1080}},o=u))||o)||o;t.default=O,e.exports=t.default},986:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retryAsync=void 0;var a=r(107),n=function(e){return e&&e.__esModule?e:{default:e}}(a);t.retryAsync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.attemptsCount,a=void 0===r?5:r,o=t.tickTimeMS,l=void 0===o?10:o,u=t.leading,i=void 0===u||u,s=0,d=void 0,c=function t(r){if(++s>a)return void r(!1);var n=1===s&&i?0:l;d=setTimeout(function(){e(s)?r(!0):t(r)},n)};return{result:new n.default(function(e){c(e)}),cancel:function(){clearTimeout(d)}}}},987:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,l,u,i=r(22),s=a(i),d=r(5),c=a(d),f=r(6),p=a(f),m=r(11),v=a(m),h=r(10),y=a(h),b=r(0),g=a(b),_=r(2),E=a(_),C=r(172),x=a(C),k=r(31),w=r(972),S=a(w),N=r(976),O=a(N),M=r(974),P=a(M),j=r(402),R=r(1003),D=a(R);r(640),r(639);var A=(n=(0,k.inject)("userStore"))((u=l=function(e){function t(){return(0,c.default)(this,t),(0,v.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,y.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){this.initGlobalInitialAppState(),this.props.userStore.init()}},{key:"initGlobalInitialAppState",value:function(){try{window.__INITIAL_APP_STATE__=JSON.parse(document.getElementById("initial_app_state").innerHTML)}catch(e){console.error(e)}}},{key:"render",value:function(){var e=this.props.children;return g.default.createElement("div",{className:"root-shell"},g.default.createElement(x.default,D.default.app.head),g.default.createElement(S.default,null),g.default.createElement(O.default,null),g.default.createElement("div",{className:"page-container"},e),g.default.createElement(j.ModalDialog,null),g.default.createElement(P.default,null))}}]),t}(b.Component),l.propTypes={userStore:E.default.object.isRequired,children:E.default.object.isRequired},o=u))||o;t.default=A,e.exports=t.default},988:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(987);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(n).default}}),e.exports=t.default},989:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r,a){r&&(0,s.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}function o(e,t,r,a,n){var o={};return Object.keys(a).forEach(function(e){o[e]=a[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var l,u,i=r(64),s=a(i),d=r(106),c=a(d),f=r(5),p=a(f),m=r(6),v=a(m),h=r(77),y=(l=function(){function e(){(0,p.default)(this,e),n(this,"_isLoading",u,this)}return(0,v.default)(e,[{key:"toggleLoading",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._isLoading;this._isLoading=e}},{key:"isLoading",get:function(){return this._isLoading}}]),e}(),u=o(l.prototype,"_isLoading",[h.observable],{enumerable:!0,initializer:function(){return!1}}),o(l.prototype,"toggleLoading",[h.action],(0,c.default)(l.prototype,"toggleLoading"),l.prototype),o(l.prototype,"isLoading",[h.computed],(0,c.default)(l.prototype,"isLoading"),l.prototype),l);t.default=new y,e.exports=t.default},990:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(989);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(n).default}}),e.exports=t.default},991:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(337);t.default=new a.RouterStore,e.exports=t.default},992:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(991);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(n).default}}),e.exports=t.default},993:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r,a){r&&(0,c.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}function o(e,t,r,a,n){var o={};return Object.keys(a).forEach(function(e){o[e]=a[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var l,u,i,s,d=r(64),c=a(d),f=r(106),p=a(f),m=r(82),v=a(m),h=r(81),y=a(h),b=r(5),g=a(b),_=r(6),E=a(_),C=r(156),x=a(C),k=r(77),w=r(966),S=(l=function(){function e(){(0,g.default)(this,e),n(this,"_userData",u,this),n(this,"isInitialized",i,this),n(this,"_setUserData",s,this)}return(0,E.default)(e,[{key:"init",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,y.default)(v.default.mark(function e(t){var r;return v.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.next=4;break;case 4:if(!(r=(0,x.default)(window,"__INITIAL_APP_STATE__.stores.userStore"))){e.next=10;break}this._setUserData(r),e.next=13;break;case 10:if(null===r){e.next=13;break}return e.next=13,this._initByAjax();case 13:this.isInitialized=!0;case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"_initByAjax",value:function(){function e(){return t.apply(this,arguments)}var t=(0,y.default)(v.default.mark(function e(){var t;return v.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.loginApi.getUserData({showLoading:!0});case 3:t=e.sent,this._setUserData(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}));return e}()},{key:"getUserData",value:function(){return this._userData}},{key:"resetUserData",value:function(){this._setUserData({email:null,firstName:null,lastName:null})}},{key:"doSignIn",value:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,y.default)(v.default.mark(function e(t,r){var a,n=t.email,o=t.password;return v.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.loginApi.doSignIn({email:n,password:o},r);case 2:return a=e.sent,this._setUserData(a),e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"doSignOut",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,y.default)(v.default.mark(function e(t){return v.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.resetUserData(),e.abrupt("return",w.loginApi.doSignOut(t));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"doSignUp",value:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,y.default)(v.default.mark(function e(t,r){var a,n=t.firstName,o=t.lastName,l=t.email,u=t.password,i=t.repeatPassword;return v.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.loginApi.doSignUp({firstName:n,lastName:o,email:l,password:u,repeatPassword:i},r);case 2:return a=e.sent,this._setUserData(a),e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"isLoggedIn",get:function(){var e=this._userData,t=e.email,r=e.firstName,a=e.lastName;return t&&r&&a}}]),e}(),u=o(l.prototype,"_userData",[k.observable],{enumerable:!0,initializer:function(){return{email:null,firstName:null,lastName:null}}}),i=o(l.prototype,"isInitialized",[k.observable],{enumerable:!0,initializer:function(){return!1}}),s=o(l.prototype,"_setUserData",[k.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var r=t.email,a=t.firstName,n=t.lastName;(0,k.extendObservable)(e._userData,{email:r,firstName:a,lastName:n})}}}),o(l.prototype,"isLoggedIn",[k.computed],(0,p.default)(l.prototype,"isLoggedIn"),l.prototype),l);t.default=new S,e.exports=t.default},994:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(993);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(n).default}}),e.exports=t.default},995:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r,a){r&&(0,c.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}function o(e,t,r,a,n){var o={};return Object.keys(a).forEach(function(e){o[e]=a[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function l(e){return{id:e.id,date:e.date.valueOf(),distance:e.distance,time:e.time.format("HH:mm:ss"),averageSpeed:e.averageSpeed}}Object.defineProperty(t,"__esModule",{value:!0});var u,i,s,d=r(64),c=a(d),f=r(106),p=a(f),m=r(82),v=a(m),h=r(81),y=a(h),b=r(5),g=a(b),_=r(6),E=a(_),C=r(77),x=r(967),k=(u=function(){function e(){(0,g.default)(this,e),n(this,"recordsList",i,this),n(this,"_filter",s,this)}return(0,E.default)(e,[{key:"init",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,y.default)(v.default.mark(function e(t){var r;return v.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.recordsApi.getAllRecords(t);case 2:r=e.sent,this.recordsList.replace(r);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"createRecord",value:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,y.default)(v.default.mark(function e(t,r){var a,n=t.date,o=t.distance,l=t.time;return v.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.recordsApi.createRecord({date:n,distance:o,time:l},r);case 2:a=e.sent,this.recordsList.push(a);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateRecord",value:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,y.default)(v.default.mark(function e(t,r){var a,n,o=t.id,l=t.date,u=t.distance,i=t.time;return v.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.recordsApi.updateRecord({id:o,date:l,distance:u,time:i},r);case 2:a=e.sent,n=this.recordsList.findIndex(function(e){return e.id===o}),n>-1&&(this.recordsList[n]=a);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"removeRecord",value:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,y.default)(v.default.mark(function e(t,r){return v.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.recordsApi.removeRecord(t,r);case 2:this.recordsList.replace(this.recordsList.filter(function(e){return e.id!==t}));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"setFilter",value:function(e){var t=e.startDate,r=e.endDate;(0,C.extendObservable)(this._filter,{startDate:t,endDate:r})}},{key:"getRecordById",value:function(e){return this.recordsList.find(function(t){return t.id===e})}},{key:"getFormattedRecordById",value:function(e){return l(this.getRecordById(e))}},{key:"_getFilteredRecords",value:function(){var e=this._filter,t=e.startDate,r=e.endDate;return t=t||-864e13,r=r||864e13,this.recordsList.filter(function(e){var a=e.date.valueOf();return a>=t&&a<=r})}},{key:"noRecords",get:function(){return 0===this.recordsList.length}},{key:"noFilteredRecords",get:function(){return 0===this.recordsGridData.length}},{key:"recordsGridData",get:function(){return this._getFilteredRecords().map(l)}}]),e}(),i=o(u.prototype,"recordsList",[C.observable],{enumerable:!0,initializer:function(){return[]}}),s=o(u.prototype,"_filter",[C.observable],{enumerable:!0,initializer:function(){return(0,C.observable)({startDate:null,endDate:null})}}),o(u.prototype,"setFilter",[C.action],(0,p.default)(u.prototype,"setFilter"),u.prototype),o(u.prototype,"noRecords",[C.computed],(0,p.default)(u.prototype,"noRecords"),u.prototype),o(u.prototype,"noFilteredRecords",[C.computed],(0,p.default)(u.prototype,"noFilteredRecords"),u.prototype),o(u.prototype,"recordsGridData",[C.computed],(0,p.default)(u.prototype,"recordsGridData"),u.prototype),u);t.default=new k,e.exports=t.default},996:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,l=r(22),u=a(l),i=r(5),s=a(i),d=r(6),c=a(d),f=r(11),p=a(f),m=r(10),v=a(m),h=r(0),y=a(h),b=r(2),g=a(b),_=r(790),E=a(_);r(642);var C=(o=n=function(e){function t(){var e,r,a,n;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),i=0;i<o;i++)l[i]=arguments[i];return r=a=(0,p.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(l))),a.state={focusedInput:null,startDate:null,endDate:null},a.onDatesChange=function(e){var t=e.startDate,r=e.endDate;a.setState({startDate:t,endDate:r}),a.props.onDatesChange({startDate:t,endDate:r})},a.onFocusChange=function(e){a.setState({focusedInput:e})},a.enableAnyDates=function(){return!1},n=r,(0,p.default)(a,n)}return(0,v.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.state,t=e.focusedInput,r=e.startDate,a=e.endDate;return y.default.createElement("div",{className:"date-range-filter"},y.default.createElement("div",{className:"date-range-filter-title"},"Filter by date range:"),y.default.createElement(E.default,{startDate:r,endDate:a,onDatesChange:this.onDatesChange,focusedInput:t,onFocusChange:this.onFocusChange,isOutsideRange:this.enableAnyDates,displayFormat:"DD.MM.YYYY",showClearDates:!0}))}}]),t}(h.Component),n.propTypes={onDatesChange:g.default.func.isRequired},o);t.default=C,e.exports=t.default},997:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(996);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(n).default}}),e.exports=t.default},998:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,l,u,i=r(82),s=a(i),d=r(81),c=a(d),f=r(22),p=a(f),m=r(5),v=a(m),h=r(6),y=a(h),b=r(11),g=a(b),_=r(10),E=a(_),C=r(0),x=a(C),k=r(2),w=a(k),S=r(31),N=r(3),O=a(N),M=r(399),P=a(M),j=r(398),R=a(j),D=r(169);r(643);var A=(n=(0,S.inject)("modalStore","recordsStore"))(o=(0,P.default)((u=l=function(e){function t(){var e,r,a,n,o=this;(0,v.default)(this,t);for(var l=arguments.length,u=Array(l),i=0;i<l;i++)u[i]=arguments[i];return r=a=(0,g.default)(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(u))),a.submit=(0,c.default)(s.default.mark(function e(){var t,r,n,l,u,i,d,c,f;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.formStore.validate().valid){e.next=3;break}return a.formStore.setFocusFirstInvalid(),e.abrupt("return");case 3:if(t=a.formStore.values,r=a.props,n=r.isAddMode,l=r.recordsStore,u=r.record,console.dir(t),i=a.formStore.values,d=i.date,c=i.distance,f=i.time,e.prev=7,!n){e.next=13;break}return e.next=11,l.createRecord({date:d,distance:c,time:f},{showLoading:!0});case 11:e.next=15;break;case 13:return e.next=15,l.updateRecord({id:u.id,date:d,distance:c,time:f},{showLoading:!0});case 15:a.props.modalStore.close(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),a.props.processAjaxError(e.t0);case 21:case"end":return e.stop()}},e,o,[[7,18]])})),n=r,(0,g.default)(a,n)}return(0,E.default)(t,e),(0,y.default)(t,[{key:"componentWillMount",value:function(){this.formStore=new D.FormStore({date:{value:(0,O.default)().startOf("day"),validators:[D.Validators.required("Please select date of record")]},distance:{value:"",transform:D.Transformers.positiveNumberWithLength(10),validators:[D.Validators.required("Please enter distance")]},time:{value:(0,O.default)().startOf("day"),validators:[D.Validators.required("Please enter time"),function(e){if(!e||"00:00:00"===e.format("HH:mm:ss"))return'Time should be more than "00:00:00"'}]}});var e=this.props.record;e&&this.formStore.setFormData(e)}},{key:"render",value:function(){var e=D.Controls.inputTextCtrl,t=D.Controls.singleDatePickerCtrl,r=D.Controls.timePickerCtrl,a=this.props.error;return x.default.createElement(D.Form,{onSubmit:this.submit,store:this.formStore,className:"edit-record-form"},x.default.createElement("div",{className:"form-group"},x.default.createElement("label",{htmlFor:"date",className:"control-label"},"Date"),x.default.createElement(D.Field,{className:"control-field",name:"date",control:t})),x.default.createElement("div",{className:"form-group"},x.default.createElement("label",{htmlFor:"distance",className:"control-label"},"Distance"),x.default.createElement(D.Field,{className:"control-field",name:"distance",control:e})),x.default.createElement("div",{className:"form-group"},x.default.createElement("label",{htmlFor:"time",className:"control-label"},"Time"),x.default.createElement(D.Field,{className:"control-field",name:"time",control:r})),x.default.createElement(R.default,{error:a}),x.default.createElement("div",{className:"buttons-group"},x.default.createElement("button",{className:"btn btn-primary modal-button pull-right"},"Submit")))}}]),t}(C.Component),l.propTypes={modalStore:w.default.object.isRequired,record:w.default.object,isAddMode:w.default.bool,error:w.default.string,processAjaxError:w.default.func.isRequired},o=u))||o)||o;t.default=A,e.exports=t.default},999:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(998);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(n).default}}),e.exports=t.default}},[1006]);